### 基本语法
1. 含义与组成
  - 有限的字符表示无限的序列
  - 由两部分组成: 主体(一些字符) + 修饰符(i|g|m)
2. 简单字符
  - 没有特殊含义的字符, 如 /abc/, /ddd/
3. 转义字符 `\`
  - 表示不方便展示的字符, 如 换行 \n 制表符 \t
  - 一些字符结合 \就具有特殊含义, \w 表示字母 数字 下划线 \W表示非 字母 数字 下划线
  - 一些字符在正则中原本就有特殊含义, 需要使用图 \ 转移为原来的含义, 如: `\\` 表示 `\`, `\.` 表示`.`
  - 常见的转义字符:

转义字符|含义
--|:--:|--:
`\n`|换行符
`\t`|制表符
`\r`|回车符
`\v`|垂直制表符
`\w`|字母, 数字, 下划线
`\W`|非 字母,数字,下划线
`\s`|空白字符, 如 `\t`
`\S`|非空白符
`\d`|数字
`\D`|非数字
`\b`|单词边界
`\B`|非单词边界

4. 字符集合 `[]`
- ``` [abc] //匹配a或b或c ```
- ``` [^abc] //匹配非abc ```
5. 量词 `{m, n}`, 贪心匹配, 优先匹配大的
 - 示例
```
{m,n} // 匹配m-n次
{m,} // 匹配m-无穷大次
? // 匹配0或1次
+ // 匹配 1 - 无穷大次
* // 匹配 0 - 无穷大次
```
- 在量词后加上 `?` 即可开启非贪心匹配
```
a{1,3}? // 匹配 `aaa` 的话会匹配 `a` 而不是 `aaa`
```

6. 字符边界 `^` ,`$`
- 当 `^` 不在 `[]`中时, 表示开头
- `$` 表示结尾
- 结合修饰符 `m`, `^` 和 `$` 可分别表示行首 和 行尾
- `\b`: ``` abc\b \\ 可匹配 abc 不可匹配abcc ```

7. 选择表达式 `|`
- 选择表达式 可用于 `()` 分组中, 字符集只能表示单个字符的 或, 而选择表达式可以表示 字符串的或, 如: `(abc|def)` 可以匹配 `abcabc`, `abcdef`, `defabc`, `defdef`
- 结合量词还可以匹配多次 `(ab){m}` 表示匹配 `ab` m次

8. 分组和引用 `()`, `\数字`
- `()` 表示分组, 默认为捕获分组
  - 捕获分组:
    - 一个 `()` 就是一个分组, 从1开始编号, 0表示整个表达式的匹配
    - 捕获组会将 分组中子表达式匹配到内容按编号存到内存中, 每一个 `()` 就需要分配一次内存, 相比非捕获分组 效率更低, 所以当分组 `()` 比较多的时候, 需要考虑一下使用 捕获分组还是非捕获分组
    - [捕获分组参考链接](https://blog.csdn.net/lxcnn/article/details/4146148)
    
   - 非捕获分组:
     - 在 子匹配表达式 前加上 `?:` 就表示非捕获分组
     - [非捕获分组参考链接](https://blog.csdn.net/lxcnn/article/details/4464908)
   - js api [str.match MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/match)
```
'123'.match(/(?:123)/) // 返回 ['123']
'123'.match(/(123)/)  // 返回 ['123', '123']
```
- `\数字` 表示引用
  - 比如匹配html标签的正则 `/<([a-z]+)><\/\1>/` 可以匹配 `<html></html>` `<a></a>`
  - 非捕获分组不能使用引用

9.  修饰符
- `i` 表示忽略大小写, 默认区分大小写
- `g` 表示表示匹配多次, 直到结束, 默认匹配一次
- `m` 结合 `^` `$`可表示匹配行首和行尾

10. 预搜索 `(?=)` `(?!)`
- 如果你想匹配 `xxx` 前是 `xxx`, `xxx` 后是 `xxx` 就要用到预搜索
- js只支持正向预搜索, 不支持反向预搜索
- 示例
```
a(?=b) // 可以匹配 `ab` 不能匹配 `aa`
a(?!b) // 可以匹配 `aa` 不能匹配 `ab`
```

11. [可视化网址](https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24)

12. 参考链接
- [正则表达式教程——语法篇](https://yanhaijing.com/javascript/2017/08/06/regexp-syntax/)
- [正则表达式教程——实践篇](https://yanhaijing.com/javascript/2017/08/26/regexp-practice/)

### 开发中用到的
#### 应用在键盘事件上
- input 输入框只能输入整数
```
<input name="level" class="form-control level" type="number" onkeyup="value=value.replace(/[^\d]/g,'')" ng-model="select.level" disabled>
```
- 正数, 两位小数
```
<input type="number" min="0.00" onkeyup="value = value.replace(/^(\-)*(\d+)\.(\d\d).*$/,'$1$2.$3')" class="form-control" ng-model="deliveryFee.driver_fee_amount" placeholder="单位元, 正数两位小数">
```